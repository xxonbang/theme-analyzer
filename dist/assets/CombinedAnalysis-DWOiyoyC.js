import{r as h,j as e,u as B,L as Q,E as _,c as M,M as U,S as D,f as Z,a as J,b as X}from"./index-Ba-N8N2U.js";const F=typeof window<"u"?h.useLayoutEffect:h.useEffect;function W(t){if(t!==void 0)switch(typeof t){case"number":return t;case"string":{if(t.endsWith("px"))return parseFloat(t);break}}}function ee({box:t,defaultHeight:s,defaultWidth:n,disabled:r,element:o,mode:c,style:m}){const{styleHeight:f,styleWidth:u}=h.useMemo(()=>({styleHeight:W(m==null?void 0:m.height),styleWidth:W(m==null?void 0:m.width)}),[m==null?void 0:m.height,m==null?void 0:m.width]),[x,b]=h.useState({height:s,width:n}),g=r||f!==void 0||c==="only-width"||f!==void 0&&u!==void 0;return F(()=>{if(o===null||g)return;const O=new ResizeObserver(N=>{for(const I of N){const{contentRect:p,target:y}=I;o===y&&b(v=>v.height===p.height&&v.width===p.width?v:{height:p.height,width:p.width})}});return O.observe(o,{box:t}),()=>{O==null||O.unobserve(o)}},[t,g,o,f,u]),h.useMemo(()=>({height:f??x.height,width:u??x.width}),[x,f,u])}function te(t){const s=h.useRef(()=>{throw new Error("Cannot call during render.")});return F(()=>{s.current=t},[t]),h.useCallback(n=>{var r;return(r=s.current)==null?void 0:r.call(s,n)},[s])}function $({containerElement:t,direction:s,isRtl:n,scrollOffset:r}){return r}function A(t,s="Assertion error"){if(!t)throw console.error(s),Error(s)}function P(t,s){if(t===s)return!0;if(!!t!=!!s||(A(t!==void 0),A(s!==void 0),Object.keys(t).length!==Object.keys(s).length))return!1;for(const n in t)if(!Object.is(s[n],t[n]))return!1;return!0}function G({cachedBounds:t,itemCount:s,itemSize:n}){if(s===0)return 0;if(typeof n=="number")return s*n;{const r=t.get(t.size===0?0:t.size-1);A(r!==void 0,"Unexpected bounds cache miss");const o=(r.scrollOffset+r.size)/t.size;return s*o}}function se({align:t,cachedBounds:s,index:n,itemCount:r,itemSize:o,containerScrollOffset:c,containerSize:m}){if(n<0||n>=r)throw RangeError(`Invalid index specified: ${n}`,{cause:`Index ${n} is not within the range of 0 - ${r-1}`});const f=G({cachedBounds:s,itemCount:r,itemSize:o}),u=s.get(n),x=Math.max(0,Math.min(f-m,u.scrollOffset)),b=Math.max(0,u.scrollOffset-m+u.size);switch(t==="smart"&&(c>=b&&c<=x?t="auto":t="center"),t){case"start":return x;case"end":return b;case"center":return u.scrollOffset<=m/2?0:u.scrollOffset+u.size/2>=f-m/2?f-m:u.scrollOffset+u.size/2-m/2;case"auto":default:return c>=b&&c<=x?c:c<b?b:x}}function K({cachedBounds:t,containerScrollOffset:s,containerSize:n,itemCount:r,overscanCount:o}){const c=r-1;let m=0,f=-1,u=0,x=-1,b=0;for(;b<c;){const g=t.get(b);if(g.scrollOffset+g.size>s)break;b++}for(m=b,u=Math.max(0,m-o);b<c;){const g=t.get(b);if(g.scrollOffset+g.size>=s+n)break;b++}return f=Math.min(c,b),x=Math.min(r-1,f+o),m<0&&(m=0,f=-1,u=0,x=-1),{startIndexVisible:m,stopIndexVisible:f,startIndexOverscan:u,stopIndexOverscan:x}}function ne({itemCount:t,itemProps:s,itemSize:n}){const r=new Map;return{get(o){for(A(o<t,`Invalid index ${o}`);r.size-1<o;){const m=r.size;let f;switch(typeof n){case"function":{f=n(m,s);break}case"number":{f=n;break}}if(m===0)r.set(m,{size:f,scrollOffset:0});else{const u=r.get(m-1);A(u!==void 0,`Unexpected bounds cache miss for index ${o}`),r.set(m,{scrollOffset:u.scrollOffset+u.size,size:f})}}const c=r.get(o);return A(c!==void 0,`Unexpected bounds cache miss for index ${o}`),c},set(o,c){r.set(o,c)},get size(){return r.size}}}function ie({itemCount:t,itemProps:s,itemSize:n}){return h.useMemo(()=>ne({itemCount:t,itemProps:s,itemSize:n}),[t,s,n])}function re({containerSize:t,itemSize:s}){let n;switch(typeof s){case"string":{A(s.endsWith("%"),`Invalid item size: "${s}"; string values must be percentages (e.g. "100%")`),A(t!==void 0,"Container size must be defined if a percentage item size is specified"),n=t*parseInt(s)/100;break}default:{n=s;break}}return n}function ae({containerElement:t,containerStyle:s,defaultContainerSize:n=0,direction:r,isRtl:o=!1,itemCount:c,itemProps:m,itemSize:f,onResize:u,overscanCount:x}){const{height:b=n,width:g=n}=ee({defaultHeight:n,defaultWidth:void 0,element:t,mode:"only-height",style:s}),O=h.useRef({height:0,width:0}),N=b,I=re({containerSize:N,itemSize:f});h.useLayoutEffect(()=>{if(typeof u=="function"){const i=O.current;(i.height!==b||i.width!==g)&&(u({height:b,width:g},{...i}),i.height=b,i.width=g)}},[b,u,g]);const p=ie({itemCount:c,itemProps:m,itemSize:I}),y=h.useCallback(i=>p.get(i),[p]),[v,C]=h.useState(()=>K({cachedBounds:p,containerScrollOffset:0,containerSize:N,itemCount:c,overscanCount:x})),{startIndexVisible:V,startIndexOverscan:k,stopIndexVisible:L,stopIndexOverscan:E}={startIndexVisible:Math.min(c-1,v.startIndexVisible),startIndexOverscan:Math.min(c-1,v.startIndexOverscan),stopIndexVisible:Math.min(c-1,v.stopIndexVisible),stopIndexOverscan:Math.min(c-1,v.stopIndexOverscan)},a=h.useCallback(()=>G({cachedBounds:p,itemCount:c,itemSize:I}),[p,c,I]),d=h.useCallback(i=>{const j=$({containerElement:t,direction:r,isRtl:o,scrollOffset:i});return K({cachedBounds:p,containerScrollOffset:j,containerSize:N,itemCount:c,overscanCount:x})},[p,t,N,r,o,c,x]);F(()=>{const i=(t==null?void 0:t.scrollTop)??0;C(d(i))},[t,r,d]),F(()=>{if(!t)return;const i=()=>{C(j=>{const{scrollLeft:R,scrollTop:S}=t,w=$({containerElement:t,direction:r,isRtl:o,scrollOffset:S}),z=K({cachedBounds:p,containerScrollOffset:w,containerSize:N,itemCount:c,overscanCount:x});return P(z,j)?j:z})};return t.addEventListener("scroll",i),()=>{t.removeEventListener("scroll",i)}},[p,t,N,r,c,x]);const l=te(({align:i="auto",containerScrollOffset:j,index:R})=>{let S=se({align:i,cachedBounds:p,containerScrollOffset:j,containerSize:N,index:R,itemCount:c,itemSize:I});if(t){if(S=$({containerElement:t,direction:r,isRtl:o,scrollOffset:S}),typeof t.scrollTo!="function"){const w=d(S);P(v,w)||C(w)}return S}});return{getCellBounds:y,getEstimatedSize:a,scrollToIndex:l,startIndexOverscan:k,startIndexVisible:V,stopIndexOverscan:E,stopIndexVisible:L}}function oe(t){return h.useMemo(()=>t,Object.values(t))}function le(t,s){const{ariaAttributes:n,style:r,...o}=t,{ariaAttributes:c,style:m,...f}=s;return P(n,c)&&P(r,m)&&P(o,f)}function ce(t){return t!=null&&typeof t=="object"&&"getAverageRowHeight"in t&&typeof t.getAverageRowHeight=="function"}const de="data-react-window-index";function me({children:t,className:s,defaultHeight:n=0,listRef:r,onResize:o,onRowsRendered:c,overscanCount:m=3,rowComponent:f,rowCount:u,rowHeight:x,rowProps:b,tagName:g="div",style:O,...N}){const I=oe(b),p=h.useMemo(()=>h.memo(f,le),[f]),[y,v]=h.useState(null),C=ce(x),V=h.useMemo(()=>C?S=>x.getRowHeight(S)??x.getAverageRowHeight():x,[C,x]),{getCellBounds:k,getEstimatedSize:L,scrollToIndex:E,startIndexOverscan:a,startIndexVisible:d,stopIndexOverscan:l,stopIndexVisible:i}=ae({containerElement:y,containerStyle:O,defaultContainerSize:n,direction:"vertical",itemCount:u,itemProps:I,itemSize:V,onResize:o,overscanCount:m});h.useImperativeHandle(r,()=>({get element(){return y},scrollToRow({align:S="auto",behavior:w="auto",index:z}){const T=E({align:S,containerScrollOffset:(y==null?void 0:y.scrollTop)??0,index:z});typeof(y==null?void 0:y.scrollTo)=="function"&&y.scrollTo({behavior:w,top:T})}}),[y,E]),F(()=>{if(!y)return;const S=Array.from(y.children).filter((w,z)=>{if(w.hasAttribute("aria-hidden"))return!1;const T=`${a+z}`;return w.setAttribute(de,T),!0});if(C)return x.observeRowElements(S)},[y,C,x,a,l]),h.useEffect(()=>{a>=0&&l>=0&&c&&c({startIndex:d,stopIndex:i},{startIndex:a,stopIndex:l})},[c,a,d,l,i]);const j=h.useMemo(()=>{const S=[];if(u>0)for(let w=a;w<=l;w++){const z=k(w);S.push(h.createElement(p,{...I,ariaAttributes:{"aria-posinset":w+1,"aria-setsize":u,role:"listitem"},key:w,index:w,style:{position:"absolute",left:0,transform:`translateY(${z.scrollOffset}px)`,height:C?void 0:z.size,width:"100%"}}))}return S},[p,k,C,u,I,a,l]),R=e.jsx("div",{"aria-hidden":!0,style:{height:L(),width:"100%",zIndex:-1}});return h.createElement(g,{role:"list",...N,className:s,ref:v,style:{position:"relative",maxHeight:"100%",flexGrow:1,overflowY:"auto",...O}},j,t,R)}const q={ì ê·¹ë§¤ìˆ˜:2,ë§¤ìˆ˜:1,ì¤‘ë¦½:0,ë§¤ë„:-1,ì ê·¹ë§¤ë„:-2};function xe(t,s){return!t&&!s?"mismatch":t?s?t===s?"match":Math.abs(q[t]-q[s])<=1?"partial":"mismatch":"vision-only":"api-only"}function ue(t){switch(t){case"match":return 1;case"partial":return .7;case"vision-only":case"api-only":return .5;case"mismatch":return .3;default:return 0}}function he({status:t}){const s={match:{label:"ì™„ì „ ì¼ì¹˜",shortLabel:"ì¼ì¹˜",className:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:"âœ“"},partial:{label:"ìœ ì‚¬",shortLabel:"ìœ ì‚¬",className:"bg-blue-100 text-blue-700 border-blue-200",icon:"â‰ˆ"},mismatch:{label:"ë¶ˆì¼ì¹˜",shortLabel:"ë¶ˆì¼ì¹˜",className:"bg-red-100 text-red-700 border-red-200",icon:"âœ—"},"vision-only":{label:"Visionë§Œ",shortLabel:"V",className:"bg-purple-100 text-purple-700 border-purple-200",icon:"ğŸ‘"},"api-only":{label:"APIë§Œ",shortLabel:"A",className:"bg-cyan-100 text-cyan-700 border-cyan-200",icon:"ğŸ“¡"}},{label:n,shortLabel:r,className:o,icon:c}=s[t];return e.jsxs("span",{className:M("inline-flex items-center gap-0.5 md:gap-1 px-1.5 md:px-2 py-0.5 rounded text-[0.65rem] md:text-xs font-medium border",o),children:[e.jsx("span",{children:c}),e.jsx("span",{className:"hidden md:inline",children:n}),e.jsx("span",{className:"md:hidden",children:r})]})}function Y({score:t}){const s=Math.round(t*100),n=t>=.8?"bg-emerald-500":t>=.5?"bg-amber-500":"bg-red-500";return e.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2",children:[e.jsx("div",{className:"flex-1 h-1 md:h-1.5 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:M("h-full rounded-full transition-all",n),style:{width:`${s}%`}})}),e.jsxs("span",{className:"text-[0.65rem] md:text-xs font-medium text-text-muted w-7 md:w-8",children:[s,"%"]})]})}const fe=h.memo(function({stock:s}){var m,f,u,x;const[n,r]=h.useState(!1),o=((f=(m=s.apiData)==null?void 0:m.price)==null?void 0:f.change_rate_pct)??0,c=o>0?"text-red-500":o<0?"text-blue-500":"text-text-secondary";return e.jsxs("div",{className:M("bg-bg-secondary border rounded-xl p-3 md:p-4",s.matchStatus==="match"?"border-emerald-300 bg-emerald-50/30":s.matchStatus==="mismatch"?"border-red-300 bg-red-50/30":"border-border"),children:[e.jsxs("div",{className:"flex justify-between items-start mb-2 md:mb-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 mb-1 flex-wrap",children:[e.jsx("a",{href:`https://m.stock.naver.com/domestic/stock/${s.code}/total`,target:"_blank",rel:"noopener noreferrer",className:"font-bold text-base md:text-lg text-text-primary hover:text-accent-primary transition-colors truncate",children:s.name}),e.jsx("span",{className:`text-[0.65rem] md:text-xs px-1 md:px-1.5 py-0.5 rounded flex-shrink-0 ${s.market==="KOSPI"?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"}`,children:s.market})]}),((x=(u=s.apiData)==null?void 0:u.price)==null?void 0:x.current)!=null&&e.jsxs("div",{className:"flex items-baseline gap-1.5 md:gap-2",children:[e.jsxs("span",{className:"text-base md:text-lg font-bold",children:[s.apiData.price.current.toLocaleString(),"ì›"]}),e.jsxs("span",{className:M("text-xs md:text-sm font-medium",c),children:[(s.apiData.price.change_rate_pct??0)>0?"+":"",(s.apiData.price.change_rate_pct??0).toFixed(2),"%"]})]})]}),e.jsx(he,{status:s.matchStatus})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 md:gap-3 mb-2 md:mb-3",children:[e.jsxs("div",{className:"bg-bg-primary rounded-lg p-2 md:p-3",children:[e.jsxs("div",{className:"text-[0.65rem] md:text-xs text-text-muted mb-1 md:mb-1.5 flex items-center gap-1",children:[e.jsx("span",{children:"ğŸ‘"})," ",e.jsx("span",{className:"hidden md:inline",children:"Vision AI"}),e.jsx("span",{className:"md:hidden",children:"Vision"})]}),s.visionSignal?e.jsx(D,{signal:s.visionSignal}):e.jsx("span",{className:"text-[0.65rem] md:text-xs text-text-muted",children:"ì—†ìŒ"})]}),e.jsxs("div",{className:"bg-bg-primary rounded-lg p-2 md:p-3",children:[e.jsxs("div",{className:"text-[0.65rem] md:text-xs text-text-muted mb-1 md:mb-1.5 flex items-center gap-1",children:[e.jsx("span",{children:"ğŸ“¡"})," ",e.jsx("span",{className:"hidden md:inline",children:"í•œíˆ¬ API"}),e.jsx("span",{className:"md:hidden",children:"API"})]}),s.apiSignal?e.jsx(D,{signal:s.apiSignal}):e.jsx("span",{className:"text-[0.65rem] md:text-xs text-text-muted",children:"ì—†ìŒ"})]})]}),e.jsxs("div",{className:"mb-2 md:mb-3",children:[e.jsx("div",{className:"text-[0.65rem] md:text-xs text-text-muted mb-1",children:"ì‹ ë¢°ë„"}),e.jsx(Y,{score:s.confidenceScore})]}),(s.visionReason||s.apiReason)&&e.jsxs("div",{className:"cursor-pointer",onClick:()=>r(!n),children:[e.jsxs("div",{className:"flex items-center justify-between text-[0.65rem] md:text-xs text-text-muted mb-1",children:[e.jsx("span",{children:"ë¶„ì„ ê·¼ê±°"}),e.jsx("span",{className:"transition-transform duration-200",style:{transform:n?"rotate(180deg)":"rotate(0deg)"},children:"â–¼"})]}),e.jsx("div",{className:M("overflow-hidden transition-all duration-300 ease-in-out",n?"max-h-[500px] opacity-100":"max-h-0 opacity-0"),children:e.jsxs("div",{className:"space-y-1.5 md:space-y-2",children:[s.visionReason&&e.jsxs("div",{className:"bg-purple-50 border border-purple-100 rounded-lg p-2 md:p-3",children:[e.jsx("div",{className:"text-[0.65rem] md:text-xs font-medium text-purple-700 mb-1",children:"ğŸ‘ Vision"}),e.jsx("p",{className:"text-xs md:text-sm text-text-secondary",children:s.visionReason})]}),s.apiReason&&e.jsxs("div",{className:"bg-cyan-50 border border-cyan-100 rounded-lg p-2 md:p-3",children:[e.jsx("div",{className:"text-[0.65rem] md:text-xs font-medium text-cyan-700 mb-1",children:"ğŸ“¡ API"}),e.jsx("p",{className:"text-xs md:text-sm text-text-secondary",children:s.apiReason})]})]})})]})]})});function H({icon:t,label:s,value:n,subValue:r,colorClass:o}){return e.jsxs("div",{className:"bg-bg-secondary border border-border rounded-xl px-2 py-2 md:px-4 md:py-3 flex items-center gap-2 md:gap-3 shadow-sm",children:[e.jsx("div",{className:M("w-8 h-8 md:w-10 md:h-10 rounded-lg flex items-center justify-center text-base md:text-xl flex-shrink-0",o||"bg-gray-100"),children:t}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-[0.55rem] md:text-[0.65rem] text-text-muted uppercase tracking-wide font-semibold truncate",children:s}),e.jsxs("div",{className:"text-sm md:text-base font-bold text-text-primary",children:[n,r&&e.jsxs("span",{className:"text-[0.65rem] md:text-sm text-text-muted font-medium ml-0.5 md:ml-1",children:["(",r,")"]})]})]})]})}function be({children:t}){return e.jsxs("div",{className:"text-[0.8125rem] text-text-secondary flex items-start gap-3 px-4 py-3 bg-slate-50 border border-slate-200 rounded-lg leading-relaxed mb-4",children:[e.jsx("svg",{className:"w-4 h-4 flex-shrink-0 text-slate-500 mt-0.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"})}),e.jsx("span",{className:"flex-1",children:t})]})}const pe=["ì ê·¹ë§¤ìˆ˜","ë§¤ìˆ˜","ì¤‘ë¦½","ë§¤ë„","ì ê·¹ë§¤ë„"],ge=280,ve=800;function ye({stocks:t}){return e.jsx(me,{rowComponent:({index:s,style:n})=>{const r=t[s];return e.jsx("div",{style:{...n,paddingBottom:16},children:e.jsx(fe,{stock:r})})},rowProps:{},rowCount:t.length,rowHeight:ge,style:{height:ve},className:"scrollbar-thin"})}function Se(){const[t,s]=h.useState("all"),[n,r]=h.useState(new Set),[o,c]=h.useState(new Set),m=a=>{r(d=>{const l=new Set(d);return l.has(a)?l.delete(a):l.add(a),l})},f=a=>{c(d=>{const l=new Set(d);return l.has(a)?l.delete(a):l.add(a),l})},u=()=>{r(new Set),c(new Set)},{data:x,isLoading:b}=B({queryKey:["vision","latest"],queryFn:Z}),{data:g,isLoading:O}=B({queryKey:["kis-data"],queryFn:J}),{data:N,isLoading:I}=B({queryKey:["kis-analysis"],queryFn:X}),p=h.useMemo(()=>{const a=new Map;if(x!=null&&x.results&&x.results.forEach(d=>{const l=d.code.startsWith("3")||d.code.startsWith("4")?"KOSDAQ":"KOSPI";a.set(d.code,{code:d.code,name:d.name,market:l,visionSignal:d.signal,visionReason:d.reason,matchStatus:"vision-only",confidenceScore:.5})}),g!=null&&g.stocks){const d=new Map;N!=null&&N.results&&N.results.forEach(l=>d.set(l.code,l)),Object.values(g.stocks).forEach(l=>{const i=d.get(l.code),j=a.get(l.code);j?(j.apiData=l,j.apiSignal=i==null?void 0:i.signal,j.apiReason=i==null?void 0:i.reason,j.matchStatus=xe(j.visionSignal,j.apiSignal),j.confidenceScore=ue(j.matchStatus)):a.set(l.code,{code:l.code,name:l.name,market:l.market,apiData:l,apiSignal:i==null?void 0:i.signal,apiReason:i==null?void 0:i.reason,matchStatus:(i!=null&&i.signal,"api-only"),confidenceScore:i!=null&&i.signal?.5:0})})}return Array.from(a.values())},[x,g,N]),y=h.useMemo(()=>{let a=p;return t!=="all"&&(a=a.filter(d=>d.market.toLowerCase()===t)),n.size>0&&(a=a.filter(d=>n.has(d.matchStatus))),o.size>0&&(a=a.filter(d=>{const l=d.visionSignal&&o.has(d.visionSignal),i=d.apiSignal&&o.has(d.apiSignal);return l||i})),a.sort((d,l)=>l.confidenceScore-d.confidenceScore)},[p,t,n,o]),v=h.useMemo(()=>{let a=0,d=0,l=0,i=0,j=0,R=0;for(const z of p){switch(z.matchStatus){case"match":a++;break;case"partial":d++;break;case"mismatch":l++;break;case"vision-only":i++;break;case"api-only":j++;break}R+=z.confidenceScore}const S=p.length,w=S>0?R/S:0;return{total:S,matched:a,partial:d,mismatched:l,visionOnly:i,apiOnly:j,avgConfidence:w}},[p]),{marketCounts:C,signalCounts:V}=h.useMemo(()=>{let a=0,d=0;const l={ì ê·¹ë§¤ìˆ˜:0,ë§¤ìˆ˜:0,ì¤‘ë¦½:0,ë§¤ë„:0,ì ê·¹ë§¤ë„:0};for(const i of p)i.market==="KOSPI"?a++:i.market==="KOSDAQ"&&d++,i.visionSignal&&l[i.visionSignal]++,i.apiSignal&&i.apiSignal!==i.visionSignal&&l[i.apiSignal]++;return{marketCounts:{all:y.length,kospi:a,kosdaq:d},signalCounts:l}},[p,y]);if(b||O||I)return e.jsx("section",{id:"combined-analysis",className:"mb-10",children:e.jsx(Q,{message:"ë°ì´í„° í†µí•© ì¤‘..."})});const L=x&&x.results&&x.results.length>0,E=(g==null?void 0:g.stocks)&&Object.keys(g.stocks).length>0;return!L&&!E?e.jsx("section",{id:"combined-analysis",className:"mb-10",children:e.jsx(_,{icon:"ğŸ“Š",title:"ë¶„ì„ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤",description:"Vision AI ë¶„ì„ ë˜ëŠ” í•œíˆ¬ API ë°ì´í„°ê°€ ìˆ˜ì§‘ë˜ë©´ ì—¬ê¸°ì— ë¹„êµ ê²°ê³¼ê°€ í‘œì‹œë©ë‹ˆë‹¤."})}):e.jsxs("section",{id:"combined-analysis",className:"mb-10",children:[e.jsx("div",{className:"flex justify-between items-center mb-5 flex-wrap gap-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl font-bold text-text-primary mb-1",children:"ë¶„ì„ ì¢…í•©"}),e.jsx("p",{className:"text-sm text-text-muted",children:"Vision AIì™€ í•œíˆ¬ API ë¶„ì„ ê²°ê³¼ ë¹„êµ ê²€ì¦"})]})}),L&&!E&&e.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 bg-amber-50 border border-amber-200 rounded-lg mb-5 text-sm text-amber-800",children:[e.jsx("span",{children:"ğŸ“¡"}),e.jsx("span",{children:"í•œíˆ¬ API ë°ì´í„°ê°€ ì•„ì§ ìˆ˜ì§‘ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. í˜„ì¬ëŠ” Vision AI ë¶„ì„ ê²°ê³¼ë§Œ í‘œì‹œë©ë‹ˆë‹¤."})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-5",children:[e.jsx(H,{icon:"ğŸ“Š",label:"ì´ ì¢…ëª©",value:v.total,colorClass:"bg-gray-100"}),e.jsx(H,{icon:"âœ“",label:"ì™„ì „ ì¼ì¹˜",value:v.matched,subValue:`${(v.matched/v.total*100).toFixed(0)}%`,colorClass:"bg-emerald-100"}),e.jsx(H,{icon:"â‰ˆ",label:"ìœ ì‚¬",value:v.partial,colorClass:"bg-blue-100"}),e.jsx(H,{icon:"âœ—",label:"ë¶ˆì¼ì¹˜",value:v.mismatched,colorClass:"bg-red-100"})]}),e.jsxs("div",{className:"bg-bg-secondary border border-border rounded-xl p-4 mb-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"í‰ê·  ì‹ ë¢°ë„"}),e.jsxs("span",{className:"text-lg font-bold",children:[(v.avgConfidence*100).toFixed(0),"%"]})]}),e.jsx(Y,{score:v.avgConfidence}),e.jsx("p",{className:"text-xs text-text-muted mt-2",children:"ë‘ ë¶„ì„ ì†ŒìŠ¤ì˜ ì¼ì¹˜ìœ¨ì´ ë†’ì„ìˆ˜ë¡ ì‹ ë¢°ë„ê°€ ë†’ìŠµë‹ˆë‹¤. ì™„ì „ ì¼ì¹˜=100%, ìœ ì‚¬=70%, ë‹¨ì¼ ì†ŒìŠ¤=50%, ë¶ˆì¼ì¹˜=30%"})]}),e.jsx(be,{children:'"ì™„ì „ ì¼ì¹˜" ì¢…ëª©ì€ Vision AIì™€ API ë¶„ì„ ì‹œê·¸ë„ì´ ë™ì¼í•©ë‹ˆë‹¤. "ë¶ˆì¼ì¹˜" ì¢…ëª©ì€ ì¶”ê°€ ê²€í† ê°€ í•„ìš”í•©ë‹ˆë‹¤.'}),e.jsxs("div",{className:"bg-bg-secondary border border-border rounded-xl p-4 mb-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-sm font-semibold text-text-primary",children:"í•„í„°"}),(n.size>0||o.size>0)&&e.jsx("button",{onClick:u,className:"text-xs text-accent-primary hover:underline",children:"í•„í„° ì´ˆê¸°í™”"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-xs text-text-muted mb-2",children:"ì¼ì¹˜ ìƒíƒœ (ë³µìˆ˜ ì„ íƒ ê°€ëŠ¥)"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"match",label:"ì™„ì „ ì¼ì¹˜",icon:"âœ“",count:v.matched},{value:"partial",label:"ìœ ì‚¬",icon:"â‰ˆ",count:v.partial},{value:"mismatch",label:"ë¶ˆì¼ì¹˜",icon:"âœ—",count:v.mismatched},{value:"vision-only",label:"Visionë§Œ",icon:"ğŸ‘",count:v.visionOnly},{value:"api-only",label:"APIë§Œ",icon:"ğŸ“¡",count:v.apiOnly}].map(({value:a,label:d,icon:l,count:i})=>e.jsxs("button",{onClick:()=>m(a),className:M("px-2.5 py-1.5 rounded-lg text-xs font-medium transition-all border",n.has(a)?"bg-accent-primary text-white border-accent-primary":"bg-bg-primary text-text-secondary border-border hover:border-accent-primary"),children:[e.jsx("span",{className:"mr-1",children:l}),d," (",i,")"]},a))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-text-muted mb-2",children:"ì‹œê·¸ë„ (ë³µìˆ˜ ì„ íƒ ê°€ëŠ¥)"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:pe.map(a=>{const d={ì ê·¹ë§¤ìˆ˜:"bg-signal-strong-buy text-white border-signal-strong-buy",ë§¤ìˆ˜:"bg-signal-buy text-white border-signal-buy",ì¤‘ë¦½:"bg-signal-neutral text-white border-signal-neutral",ë§¤ë„:"bg-signal-sell text-white border-signal-sell",ì ê·¹ë§¤ë„:"bg-signal-strong-sell text-white border-signal-strong-sell"};return e.jsxs("button",{onClick:()=>f(a),className:M("px-2.5 py-1.5 rounded-lg text-xs font-medium transition-all border",o.has(a)?d[a]:"bg-bg-primary text-text-secondary border-border hover:border-accent-primary"),children:[a," (",V[a],")"]},a)})})]}),(n.size>0||o.size>0)&&e.jsx("div",{className:"mt-3 pt-3 border-t border-border-light",children:e.jsxs("div",{className:"text-xs text-text-muted",children:["ì„ íƒëœ í•„í„°: "," ",n.size===0&&o.size===0?"ì „ì²´":e.jsxs(e.Fragment,{children:[Array.from(n).map(a=>({match:"ì™„ì „ ì¼ì¹˜",partial:"ìœ ì‚¬",mismatch:"ë¶ˆì¼ì¹˜","vision-only":"Visionë§Œ","api-only":"APIë§Œ"})[a]).join(", "),n.size>0&&o.size>0&&" + ",Array.from(o).join(", ")]})," ","â†’ ",y.length,"ê±´"]})})]}),e.jsx(U,{active:t,counts:C,onChange:s}),y.length>0?e.jsx(ye,{stocks:y}):e.jsx(_,{icon:"ğŸ”",title:"ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤",description:"ì„ íƒí•œ í•„í„° ì¡°ê±´ì— ë§ëŠ” ì¢…ëª©ì´ ì—†ìŠµë‹ˆë‹¤."})]})}export{Se as CombinedAnalysis};
